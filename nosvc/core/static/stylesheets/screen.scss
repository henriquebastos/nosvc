@import "blueprint/reset";
@import "partials/base";
@import "partials/fonts";
@import "blueprint";
@import "compass/typography/vertical_rhythm";
@import "compass/typography/text/replacement";
@import "compass/css3/border-radius";
@import "compass/css3/text-shadow";
@import "compass/css3/box-sizing";
@import "blueprint/buttons";

$header-text-color: #D7D6D0;
$header-border-color: #4b4a4a;

$header-light-bg-color: #696862;
$header-dark-bg-color: #595853;

$header-list-hover-color: #83B1DF;
$header-new-hover-color: #b178ad;
$header-help-hover-color: #ed6569;


$footer-frame-bg-color: #393738;


// To generate css equivalent to the blueprint css but with your
// configuration applied, uncomment:
// @include blueprint

// If you are doing a lot of stylesheet concatenation, it is suggested
// that you scope your blueprint styles, so that you can better control
// what pages use blueprint when stylesheets are concatenated together.
body.bp {
  @include blueprint-typography(true);
  @include blueprint-utilities;
  @include blueprint-interaction;


  hr {
    @include colruler;
  }
  hr.space {
    @include colspacer;
  }
  ul {
    margin: 0;
    padding: 0;
  }
}

form.bp {
  @include blueprint-form;
}

.video {
  width: 100%;
  height: rhythm(20);

  iframe {
    width: 100%;
    height: 100%;
  }
}

.avatar {
  height: rhythm(13);

  img {
    @include border-radius(50%);
  }
}

#attendees {
  padding: 0;
  margin: 0;
  display: block;
  list-style: none;

  li {
    @include float-left;
    width: span(2.5);
    height: rhythm(5);

    img {
      @include border-radius(50%);
    }
  }
}

body.detail {
  #container, footer {
    @include showgrid;
  }
  #container {
    @include container;
  }
  #header-frame {
    background-color: $header-light-bg-color;
  }
  header {
    @include container;
    background-color: $header-dark-bg-color;
    color: $header-text-color;
    font-family: "Dosis-SemiBold";
    text-transform: uppercase;
    @include text-shadow(black 1px 1px 0px);

    li {
      width: span(5);
      line-height: rhythm(2);
      @include float-left;
      text-align: center;

      a, a:hover, a:visited {
        color: $header-text-color;
        border-right: 1px solid $header-border-color;
        text-decoration: none;

        display: inline-block;
        width: 100%;
        height: 100%;

        img {
          margin-right: $grid-background-gutter-width / 2;
          vertical-align: middle;
        }
      }
    }
    .list a:hover {
      background-color: $header-list-hover-color;
    }
    .new a:hover {
      background-color: $header-new-hover-color;
    }
    .help a:hover {
      background-color: $header-help-hover-color;
    }
    .search form {
      @include blueprint-inline-form;
      border-right: 1px solid $header-border-color;
    }
    .account {
      background-color: $header-light-bg-color;
    }
  }
  #featured {
    @include column($blueprint-grid-columns);
    //height: 432px;
    height: rhythm(18);
  }
  #content {
    // Two thirds of the grid columns, rounding up.
    // With 24 cols, this is 16.
    $content-columns: ceil(2 * $blueprint-grid-columns / 3);
    $remain-columns: $blueprint-grid-columns - $content-columns;
    // true means it's the last column in the row
    @include column($content-columns, true);
    @include push($remain-columns);
    @include margin-leader(-5);

    .host {
      @include clearfix;

      .host-contact {
        @include column(6);
        @include push(10);
      }
      .host-about {
        @include column(10);
        @include pull(6, true);
      }
    }
  }
  #sidebar {
    // One third of the grid columns, rounding down. With 24 cols, this is 8.
    $sidebar-columns: floor($blueprint-grid-columns / 3);
    $remain-columns: $blueprint-grid-columns - $sidebar-columns;
    @include column($sidebar-columns);
    @include pull($remain-columns, true);
    @include prepend-top();
  }
  #footer-frame {
    widows: 100%;
  }

  footer {
    @include column($blueprint-grid-columns);

    $logo-columns: floor($blueprint-grid-columns / 8);
    $remain-columns: $blueprint-grid-columns - $logo-columns;

    .logo {
      @include column($logo-columns);
      a {
        @include replace-text-with-dimensions('footer-logo.jpg');
        display: block;
      }
    }
    .actions {
      @include column($remain-columns / 3);
    }
    .opendata {
      @include column($remain-columns / 3);
    }
    .social {
      @include column($remain-columns / 3, true);
    }
    .links {
      @include column($blueprint-grid-columns);
    }
  }
}
